
-- ===============================================
-- PATH EXPRESSIONS (PostgreSQL 12+)
-- ===============================================

-- Utilizzo di JSON Path
SELECT name, jsonb_path_query(specifications, '$.display.size') as display_size
FROM products;

-- Path con filtri
SELECT name, jsonb_path_query_array(specifications, '$.colors[*] ? (@ == "black")')
FROM products;

-- Controllo esistenza con path
SELECT * FROM products 
WHERE jsonb_path_exists(specifications, '$.camera.main ? (@ like_regex "48.*")');