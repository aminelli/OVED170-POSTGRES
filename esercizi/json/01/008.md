```sql


-- ===============================================
-- INDICI SU CAMPI JSON
-- ===============================================

-- Indice GIN per operazioni di contenimento
CREATE INDEX idx_user_preferences ON users USING GIN (preferences);

-- Indice su un campo specifico JSON
CREATE INDEX idx_user_city ON users ((profile->>'city'));

-- Indice su espressione JSON
CREATE INDEX idx_product_price ON products ((specifications->>'price'))
WHERE specifications ? 'price';


```